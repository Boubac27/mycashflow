function displayResults() {
  markers.forEach(marker => marker.remove());
  const container = document.getElementById('results');
  container.innerHTML = '';
  let marker;

  <% @results.each do |result| %>
    container.insertAdjacentHTML('beforeend', `<%= j render 'result', prices: @prices %>`);
    marker = new mapboxgl.Marker()
    .setLngLat([ `<%= prices[:lng] %>`, `<%= prices[:lat] %>` ])
    .addTo(map);
    markers.push(marker);
  <% end %>
}

displayResults();
