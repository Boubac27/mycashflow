function displayResults() {
  markers.forEach(marker => marker.remove());
  const container = document.getElementById('results');
  container.innerHTML = '';
  container.insertAdjacentHTML('beforeend', `<%= j render 'result', prices: @prices %>`);
  let marker;

  <% @results.each do |result| %>
    marker = new mapboxgl.Marker()
    .setLngLat([ `<%= result[:lng] %>`, `<%= result[:lat] %>` ])
    .addTo(map);
    markers.push(marker);
  <% end %>
}

displayResults();
